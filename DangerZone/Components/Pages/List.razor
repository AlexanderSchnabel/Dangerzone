@page "/events"

@inject NavigationManager Nav

<PageTitle>Event List</PageTitle>

<h3>Events</h3>

@foreach (var ev in _events)
{
    <MudLink Href="@($"/events/{ev.Id}")" Underline="@(Underline.None)">
        <MudPaper Class="pa-3" Elevation="2" Style="cursor:pointer;">

            <MudStack Row="true" Spacing="3" AlignItems="AlignItems.Center">

                <!-- Image (Left) -->
                <MudImage Src="@ev.ImageUrl"
                          Alt="@ev.Title"
                          Width="160"
                          Height="110"
                          Style="object-fit:cover; border-radius:8px;"/>

                <!-- Text (Right) -->
                <MudStack Spacing="1">

                    <MudText Typo="Typo.h6">
                        @ev.Title
                    </MudText>

                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                        @ev.Description
                    </MudText>

                </MudStack>

            </MudStack>

        </MudPaper>
    </MudLink>
}

@code {

    private readonly List<EventItem> _events =
    [
        new(1, "THE CHUM LINE", "img/chumline.png", "In the chum line, there is no ego. Only breath, water, and the predator.")
    ];

    private void NavigateToEvent(int id)
    {
        Nav.NavigateTo($"/events/{id}");
    }

    public record EventItem(int Id, string Title, string ImageUrl, string Description);
}
